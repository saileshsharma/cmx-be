# ===============================
# Database (from .env.prod)
# ===============================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=validate

# ===============================
# GraphQL CORS
# ===============================
spring.graphql.cors.allowed-origins=https://cmx-fe.onrender.com
spring.graphql.cors.allowed-methods=GET,POST
spring.graphql.cors.allowed-headers=*
spring.graphql.cors.allow-credentials=true

# ===============================
# OpenTelemetry
# ===============================
otel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT}

# ===============================
# Kafka
# ===============================
spring.kafka.bootstrap-servers=${SPRING_KAFKA_BOOTSTRAP_SERVERS}

# ===============================
# Security (Keycloak / OAuth2)
# ===============================
# Keycloak OFF by default (no issuer-uri).
# In real prod with Keycloak, provide this env var:
# SPRING_SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUER_URI=https://keycloak.example.com/realms/cmx
# No hardcoded issuer-uri here to avoid startup failure.

# ===============================
# Actuator hardening
# ===============================
management.endpoint.health.show-details=never
management.endpoints.web.exposure.include=health,info
